/*C3*/SET SCHEMA PUBLIC
DROP TABLE SONDAGE_DATEPROPOSEE\u000d\u000a
\u000d\u000aDROP TABLE UTILISATEUR_SONDAGE\u000d\u000a\u000d\u000a
DROP TABLE SONDAGE\u000d\u000a
DROP TABLE UTILISATEUR\u000d\u000a
DROP TABLE  DATEPROPOSEE
/*C5*/SET SCHEMA PUBLIC
drop table Alergie if exists
drop table DateProposee if exists
drop table PreferenceAlimentaire if exists
drop table Reunion if exists
drop table Reunion_Utilisateur if exists
drop table Sondage if exists
drop table Sondage_DateProposee if exists
drop table Utilisateur if exists
drop table Utilisateur_Sondage if exists
create table Alergie (id bigint generated by default as identity (start with 1), ulisateurAlergie_mail varchar(255), primary key (id))
create table DateProposee (idDate bigint generated by default as identity (start with 1), datePauge varbinary(255), datePaugeDegener varbinary(255), primary key (idDate))
create table PreferenceAlimentaire (id bigint generated by default as identity (start with 1), itulisateurPreferenceAli_mail varchar(255), primary key (id))
create table Reunion (idReunion bigint generated by default as identity (start with 1), primary key (idReunion))
create table Reunion_Utilisateur (Reunion_idReunion bigint not null, listeParticipants_mail varchar(255) not null)
create table Sondage (idSondage bigint generated by default as identity (start with 1), lienWeb varchar(255), createur_mail varchar(255), reunionDuSondage_idReunion bigint, primary key (idSondage))
create table Sondage_DateProposee (listeSondages_idSondage bigint not null, listeDatesProposees_idDate bigint not null)
create table Utilisateur (DTYPE varchar(31) not null, mail varchar(255) not null, nom varchar(255), prenom varchar(255), primary key (mail))
create table Utilisateur_Sondage (listeUtilisateurs_mail varchar(255) not null, listeSondages_idSondage bigint not null)
alter table Reunion_Utilisateur add constraint UK_enqo2jouivhn3r9bni6vdgh4v  unique (listeParticipants_mail)
alter table Alergie add constraint FK_7hrverlceaheyu5kb9i7x89wv foreign key (ulisateurAlergie_mail) references Utilisateur
alter table PreferenceAlimentaire add constraint FK_ccnsu7smvcj0nok5shnpvgbu4 foreign key (itulisateurPreferenceAli_mail) references Utilisateur
alter table Reunion_Utilisateur add constraint FK_enqo2jouivhn3r9bni6vdgh4v foreign key (listeParticipants_mail) references Utilisateur
alter table Reunion_Utilisateur add constraint FK_l3f20q2dk6ypyt1x83972sw33 foreign key (Reunion_idReunion) references Reunion
alter table Sondage add constraint FK_4p5av7hyi3vortf3fwge3l94e foreign key (createur_mail) references Utilisateur
alter table Sondage add constraint FK_axrgb3ovfp2sc39htc3edptai foreign key (reunionDuSondage_idReunion) references Reunion
alter table Sondage_DateProposee add constraint FK_j0kqh6h78k87ci0m6e981ywha foreign key (listeDatesProposees_idDate) references DateProposee
alter table Sondage_DateProposee add constraint FK_du99691hqjrnfde282djyyvad foreign key (listeSondages_idSondage) references Sondage
alter table Utilisateur_Sondage add constraint FK_qts3d4puehf7dxsx8b5rw5ag5 foreign key (listeSondages_idSondage) references Sondage
alter table Utilisateur_Sondage add constraint FK_43nvhtlk3in05prc3aoewlow foreign key (listeUtilisateurs_mail) references Utilisateur
INSERT INTO DATEPROPOSEE VALUES(1,'aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378','aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378')
INSERT INTO DATEPROPOSEE VALUES(2,'aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378','aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378')
INSERT INTO SONDAGE VALUES(1,'lienWeb',NULL,NULL)
INSERT INTO SONDAGE VALUES(2,'lienWeb2',NULL,NULL)
INSERT INTO UTILISATEUR VALUES('Utilisateur','gora1@gmail.com','fall','Gora')
INSERT INTO UTILISATEUR VALUES('Utilisateur','jl1@gmail.com','le lec','Jean-Loup')
DELETE FROM SONDAGE WHERE IDSONDAGE=1
INSERT INTO SONDAGE VALUES(1,'lienWeb','gora1@gmail.com',NULL)
DELETE FROM SONDAGE WHERE IDSONDAGE=2
INSERT INTO SONDAGE VALUES(2,'lienWeb2','jl1@gmail.com',NULL)
INSERT INTO SONDAGE_DATEPROPOSEE VALUES(2,1)
INSERT INTO SONDAGE_DATEPROPOSEE VALUES(2,2)
INSERT INTO UTILISATEUR_SONDAGE VALUES('gora1@gmail.com',1)
INSERT INTO UTILISATEUR_SONDAGE VALUES('gora1@gmail.com',2)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table Alergie drop constraint FK_7hrverlceaheyu5kb9i7x89wv
alter table PreferenceAlimentaire drop constraint FK_ccnsu7smvcj0nok5shnpvgbu4
alter table Reunion_Utilisateur drop constraint FK_enqo2jouivhn3r9bni6vdgh4v
alter table Reunion_Utilisateur drop constraint FK_l3f20q2dk6ypyt1x83972sw33
alter table Sondage drop constraint FK_4p5av7hyi3vortf3fwge3l94e
alter table Sondage drop constraint FK_axrgb3ovfp2sc39htc3edptai
alter table Sondage_DateProposee drop constraint FK_j0kqh6h78k87ci0m6e981ywha
alter table Sondage_DateProposee drop constraint FK_du99691hqjrnfde282djyyvad
alter table Utilisateur_Sondage drop constraint FK_qts3d4puehf7dxsx8b5rw5ag5
alter table Utilisateur_Sondage drop constraint FK_43nvhtlk3in05prc3aoewlow
drop table Alergie if exists
drop table DateProposee if exists
drop table PreferenceAlimentaire if exists
drop table Reunion if exists
drop table Reunion_Utilisateur if exists
drop table Sondage if exists
drop table Sondage_DateProposee if exists
drop table Utilisateur if exists
drop table Utilisateur_Sondage if exists
create table Alergie (id bigint generated by default as identity (start with 1), ulisateurAlergie_mail varchar(255), primary key (id))
create table DateProposee (idDate bigint generated by default as identity (start with 1), datePauge varbinary(255), datePaugeDegener varbinary(255), primary key (idDate))
create table PreferenceAlimentaire (id bigint generated by default as identity (start with 1), itulisateurPreferenceAli_mail varchar(255), primary key (id))
create table Reunion (idReunion bigint generated by default as identity (start with 1), primary key (idReunion))
create table Reunion_Utilisateur (Reunion_idReunion bigint not null, listeParticipants_mail varchar(255) not null)
create table Sondage (idSondage bigint generated by default as identity (start with 1), lienWeb varchar(255), createur_mail varchar(255), reunionDuSondage_idReunion bigint, primary key (idSondage))
create table Sondage_DateProposee (listeSondages_idSondage bigint not null, listeDatesProposees_idDate bigint not null)
create table Utilisateur (DTYPE varchar(31) not null, mail varchar(255) not null, nom varchar(255), prenom varchar(255), primary key (mail))
create table Utilisateur_Sondage (listeUtilisateurs_mail varchar(255) not null, listeSondages_idSondage bigint not null)
alter table Reunion_Utilisateur add constraint UK_enqo2jouivhn3r9bni6vdgh4v  unique (listeParticipants_mail)
alter table Alergie add constraint FK_7hrverlceaheyu5kb9i7x89wv foreign key (ulisateurAlergie_mail) references Utilisateur
alter table PreferenceAlimentaire add constraint FK_ccnsu7smvcj0nok5shnpvgbu4 foreign key (itulisateurPreferenceAli_mail) references Utilisateur
alter table Reunion_Utilisateur add constraint FK_enqo2jouivhn3r9bni6vdgh4v foreign key (listeParticipants_mail) references Utilisateur
alter table Reunion_Utilisateur add constraint FK_l3f20q2dk6ypyt1x83972sw33 foreign key (Reunion_idReunion) references Reunion
alter table Sondage add constraint FK_4p5av7hyi3vortf3fwge3l94e foreign key (createur_mail) references Utilisateur
alter table Sondage add constraint FK_axrgb3ovfp2sc39htc3edptai foreign key (reunionDuSondage_idReunion) references Reunion
alter table Sondage_DateProposee add constraint FK_j0kqh6h78k87ci0m6e981ywha foreign key (listeDatesProposees_idDate) references DateProposee
alter table Sondage_DateProposee add constraint FK_du99691hqjrnfde282djyyvad foreign key (listeSondages_idSondage) references Sondage
alter table Utilisateur_Sondage add constraint FK_qts3d4puehf7dxsx8b5rw5ag5 foreign key (listeSondages_idSondage) references Sondage
alter table Utilisateur_Sondage add constraint FK_43nvhtlk3in05prc3aoewlow foreign key (listeUtilisateurs_mail) references Utilisateur
INSERT INTO DATEPROPOSEE VALUES(1,'aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378','aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378')
INSERT INTO DATEPROPOSEE VALUES(2,'aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378','aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378')
INSERT INTO SONDAGE VALUES(1,'lienWeb',NULL,NULL)
INSERT INTO SONDAGE VALUES(2,'lienWeb2',NULL,NULL)
INSERT INTO UTILISATEUR VALUES('Utilisateur','gora1@gmail.com','fall','Gora')
INSERT INTO UTILISATEUR VALUES('Utilisateur','jl1@gmail.com','le lec','Jean-Loup')
DELETE FROM SONDAGE WHERE IDSONDAGE=1
INSERT INTO SONDAGE VALUES(1,'lienWeb','gora1@gmail.com',NULL)
DELETE FROM SONDAGE WHERE IDSONDAGE=2
INSERT INTO SONDAGE VALUES(2,'lienWeb2','jl1@gmail.com',NULL)
INSERT INTO SONDAGE_DATEPROPOSEE VALUES(2,1)
INSERT INTO SONDAGE_DATEPROPOSEE VALUES(2,2)
INSERT INTO UTILISATEUR_SONDAGE VALUES('gora1@gmail.com',1)
INSERT INTO UTILISATEUR_SONDAGE VALUES('gora1@gmail.com',2)
COMMIT
DISCONNECT
/*C3*/DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DROP TABLE PREFERENCEALIMENTAIRE
DROP TABLE  REUNION_UTILISATEUR
DROP TABLE  UTILISATEUR_SONDAGE
DROP TABLE  SONDAGE_DATEPROPOSEE
DROP TABLE  SONDAGE
DROP TABLE  ALERGIE
DROP TABLE  DATEPROPOSEE
DROP TABLE  UTILISATEUR
DROP TABLE  REUNION
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
drop table Alergie if exists
drop table DateProposee if exists
drop table PreferenceAlimentaire if exists
drop table Reunion if exists
drop table Reunion_Utilisateur if exists
drop table Sondage if exists
drop table Sondage_DateProposee if exists
drop table Utilisateur if exists
drop table Utilisateur_Sondage if exists
create table Alergie (id bigint generated by default as identity (start with 1), utilisateurAlergie_mail varchar(255), primary key (id))
create table DateProposee (idDate bigint generated by default as identity (start with 1), datePauge varbinary(255), datePaugeDegener varbinary(255), primary key (idDate))
create table PreferenceAlimentaire (id bigint generated by default as identity (start with 1), utilisateurPreferenceAli_mail varchar(255), primary key (id))
create table Reunion (idReunion bigint generated by default as identity (start with 1), primary key (idReunion))
create table Reunion_Utilisateur (Reunion_idReunion bigint not null, listeParticipants_mail varchar(255) not null)
create table Sondage (idSondage bigint generated by default as identity (start with 1), lienWeb varchar(255), createur_mail varchar(255), reunionDuSondage_idReunion bigint, primary key (idSondage))
create table Sondage_DateProposee (listeSondages_idSondage bigint not null, listeDatesProposees_idDate bigint not null)
create table Utilisateur (DTYPE varchar(31) not null, mail varchar(255) not null, nom varchar(255), prenom varchar(255), primary key (mail))
create table Utilisateur_Sondage (listeUtilisateurs_mail varchar(255) not null, listeSondages_idSondage bigint not null)
alter table Reunion_Utilisateur add constraint UK_enqo2jouivhn3r9bni6vdgh4v  unique (listeParticipants_mail)
alter table Alergie add constraint FK_8poqpc79gk245t5w0g6lbc2sq foreign key (utilisateurAlergie_mail) references Utilisateur
alter table PreferenceAlimentaire add constraint FK_2mi03o37ufolo9yl7wbi0xk3g foreign key (utilisateurPreferenceAli_mail) references Utilisateur
alter table Reunion_Utilisateur add constraint FK_enqo2jouivhn3r9bni6vdgh4v foreign key (listeParticipants_mail) references Utilisateur
alter table Reunion_Utilisateur add constraint FK_l3f20q2dk6ypyt1x83972sw33 foreign key (Reunion_idReunion) references Reunion
alter table Sondage add constraint FK_4p5av7hyi3vortf3fwge3l94e foreign key (createur_mail) references Utilisateur
alter table Sondage add constraint FK_axrgb3ovfp2sc39htc3edptai foreign key (reunionDuSondage_idReunion) references Reunion
alter table Sondage_DateProposee add constraint FK_j0kqh6h78k87ci0m6e981ywha foreign key (listeDatesProposees_idDate) references DateProposee
alter table Sondage_DateProposee add constraint FK_du99691hqjrnfde282djyyvad foreign key (listeSondages_idSondage) references Sondage
alter table Utilisateur_Sondage add constraint FK_qts3d4puehf7dxsx8b5rw5ag5 foreign key (listeSondages_idSondage) references Sondage
alter table Utilisateur_Sondage add constraint FK_43nvhtlk3in05prc3aoewlow foreign key (listeUtilisateurs_mail) references Utilisateur
INSERT INTO DATEPROPOSEE VALUES(1,'aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378','aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378')
INSERT INTO DATEPROPOSEE VALUES(2,'aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378','aced00057372000d6a6176612e74696d652e536572955d84ba1b2248b20c00007870770703000007e3011378')
INSERT INTO SONDAGE VALUES(1,'lienWeb',NULL,NULL)
INSERT INTO SONDAGE VALUES(2,'lienWeb2',NULL,NULL)
INSERT INTO UTILISATEUR VALUES('Utilisateur','gora1@gmail.com','fall','Gora')
INSERT INTO UTILISATEUR VALUES('Utilisateur','jl1@gmail.com','le lec','Jean-Loup')
DELETE FROM SONDAGE WHERE IDSONDAGE=1
INSERT INTO SONDAGE VALUES(1,'lienWeb','gora1@gmail.com',NULL)
DELETE FROM SONDAGE WHERE IDSONDAGE=2
INSERT INTO SONDAGE VALUES(2,'lienWeb2','jl1@gmail.com',NULL)
INSERT INTO SONDAGE_DATEPROPOSEE VALUES(2,1)
INSERT INTO SONDAGE_DATEPROPOSEE VALUES(2,2)
INSERT INTO UTILISATEUR_SONDAGE VALUES('gora1@gmail.com',1)
INSERT INTO UTILISATEUR_SONDAGE VALUES('gora1@gmail.com',2)
COMMIT
DISCONNECT
